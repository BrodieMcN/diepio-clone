<!DOCTYPE html>
<html>
  <head>
    <title>Test Clicker Game</title>
  </head>
  <body style="margin: 0px; padding: 0px;">
    <div id="upgradepanel" style="position: absolute; width: 33%; height: 100%;">
      <h1 style="display: block;">Money: <span id="moneyshow">0</span></h1>
      <button style="display: block;" onclick="mainbuttonclick()">Click Me!</button>
    </div>
    <div id="stockpanel" style="position: absolute; left: 33.5%; width: 33%; height: 100%;">
    </div>
    <div id="planetpanel" style="position: absolute; left: 67%; width: 33%; height: 100%;">
    </div>
    <style>
    </style>
    <script>

      var clickamt = 1;
      cps1 = 0.1;
      var money = 0;
      var upgradeCosts = [20];
      var upgradeButton = document.createElement("button");
      upgradeButton.id = "upgradebutton";
      upgradeButton.innerText = "+ 0.1 cps";

      function gaincps1() {

	money += cps1;

      }
      
      function mainbuttonclick() {

	money += clickamt;

      }

      function loop() {

	document.getElementById("moneyshow").innerText = money.toFixed(1);

        for(var i = 0; i < upgradeCosts.length; i++) {
          if(money >= upgradeCosts[0]) {

            if(document.getElementById("upgradebutton") === null) {

              var cost = document.createElement("h3");
              cost.innerText = "Cost: " + upgradeCosts[0];
              cost.id = "upgradeCost";
  	      document.getElementById("upgradepanel").appendChild(upgradeButton);
  	      document.getElementById("upgradepanel").appendChild(cost);
              document.getElementById("upgradebutton").onclick = function() {
 
	        setInterval(gaincps1, 1000);
                money -= upgradeCosts[0];
		upgradeCosts[0] = Math.pow(upgradeCosts[0], 1.02).toFixed();
		document.getElementById("upgradeCost").innerText = "Cost: " + upgradeCosts[0];

              }

            }

          } else if(money < upgradeCosts[0] && document.getElementById("upgradebutton")) {

	    var item = document.getElementById("upgradebutton");
            item.parentNode.removeChild(item);
	    var cost = document.getElementById("upgradeCost");
            cost.parentNode.removeChild(cost);

	  }

        }

      }

      setInterval(loop, 16);

    </script>
  </body>
</html>